<h1>Authors</h1>
<p>Here's a list of Authors: feel free to play with it.</p>
<button (click)="startAddingAuthor()">Add Author</button>
<table
  class="table table-striped"
  aria-labelledby="tableLabel"
  [hidden]="!authors"
>
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Age</th>
      <th>Rating</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let author of authors">
      <td>{{ author.id }}</td>
      <td>{{ author.name }}</td>
      <td>{{ author.age }}</td>
      <td>{{ author.rating }}</td>
      <td>
        <button (click)="editAuthor(author)">Edit</button>
        <button (click)="removeAuthor(author)">Remove</button>
      </td>
    </tr>
  </tbody>
</table>

<div *ngIf="showAddFormPopup && newAuthor">
  <div class="popup-container">
    <h2>Add New Author</h2>
    <form (ngSubmit)="addAuthor()">
      <label>Name</label>
      <input [(ngModel)]="newAuthor.name" name="name" required />
      <label>Age</label>
      <input [(ngModel)]="newAuthor.age" name="age" required />
      <label>Rating</label>
      <input [(ngModel)]="newAuthor.rating" name="rating" required />
      <div class="button-container">
        <button type="submit">Add</button>
        <button type="button" (click)="cancelAdd()">Cancel</button>
      </div>
    </form>
  </div>
</div>

<div *ngIf="showEditFormPopup && editedAuthor">
  <div class="popup-container">
    <h2>Edit Author</h2>
    <form (ngSubmit)="saveEditedAuthor()">
      <label>Name</label>
      <input [(ngModel)]="editedAuthor.name" name="name" required />
      <label>Age</label>
      <input [(ngModel)]="editedAuthor.age" name="age" required />
      <label>Rating</label>
      <input [(ngModel)]="editedAuthor.rating" name="rating" required />
      <div class="button-container">
        <button type="submit">Save</button>
        <button type="button" (click)="cancelEdit()">Cancel</button>
      </div>
    </form>
  </div>
</div>
